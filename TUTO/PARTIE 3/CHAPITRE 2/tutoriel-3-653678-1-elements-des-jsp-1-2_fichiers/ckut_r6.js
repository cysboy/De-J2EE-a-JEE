(function(){var f={d:{collect:function(w,x,u){var p;var q;var r;var s;var t;var v;var z;var A;var B;var C;var D;var E;var F;if(window.top==window.self){switch(x){case"!attach":case"!wake":case"resize":case"scroll":p=document.documentElement!==undefined?document.documentElement:document.body;q=p.scrollLeft||window.pageXOffset||window.scrollX||0;r=p.scrollTop||window.pageYOffset||window.scrollY||0;s=p.clientWidth||p.offsetWidth||0;t=p.clientHeight||p.offsetHeight||0;C=0;D=0;E=w.offsetWidth;F=w.offsetHeight;for(var y=w;y;y=y.offsetParent){C+=y.offsetLeft;D+=y.offsetTop}A=(Math.max(E+Math.min(C-q,0)+Math.min(q+s-C-E,0),0)/E)*(Math.max(F+Math.min(D-r,0)+Math.min(r+t-D-F,0),0)/F);break;case"!sleep":A=0;break;default:A=u.ratio;break}}else{A=-1}z=new Date().getTime();if(u.ratio!==undefined&&u.time!==undefined){v=z-u.time;B=[[0,v*(u.ratio<0?1:0)],[2,v*(u.ratio>0?1:0)],[1,v*(u.ratio>=0?u.ratio:0)],[3,v]]}else{B=undefined}u.ratio=A;u.time=z;return B},convert:function(p){return Math.round(p*0.001)},reduce:function(p,q){return p+q},events:["!attach","!sleep","!timer","!wake","keydown","mousemove","resize","scroll"],ranges:[1,2,3],sleep:30000,value:0,maxPurgeCount:undefined},v:{collect:function(w,x,u){var p;var q;var r;var s;var t;var v;var z;var A;var B;var C;var D;var E;var F;if(window.top==window.self){if(x=="!attach"){p=document.documentElement!==undefined?document.documentElement:document.body;q=p.scrollLeft||window.pageXOffset||window.scrollX||0;r=p.scrollTop||window.pageYOffset||window.scrollY||0;s=p.clientWidth||p.offsetWidth||0;t=p.clientHeight||p.offsetHeight||0;C=0;D=0;E=w.offsetWidth;F=w.offsetHeight;for(var y=w;y;y=y.offsetParent){C+=y.offsetLeft;D+=y.offsetTop}A=(Math.max(E+Math.min(C-q,0)+Math.min(q+s-C-E,0),0)/E)*(Math.max(F+Math.min(D-r,0)+Math.min(r+t-D-F,0),0)/F)}else{A=u.ratio}}else{A=-1}u.ratio=A;return[[0,A]]},convert:function(p){return Math.round(p*10000)/10000},reduce:function(p,q){if(p<0){return p}if(q<0){return q}return(0+p+q)/2},events:["!attach"],ranges:[],sleep:30000,value:0,maxPurgeCount:1}};var g={cookieExpire:7*24*60*60,cookiePrefix:"ckut",queryBlock:"_",queryExpire:15000,queryField:"-",queryURL:"http://dis.criteo.com/track/ckut.aspx",trackFlush:120000,trackLength:128,trackTimer:2500};var a=function(v){var p;var r;var s;var t;var u;p=document.cookie.split(";");r=v.length;s={};for(var q=0;q<p.length;++q){u=p[q].split("=",2);if(u.length==2){t=decodeURIComponent(u[0].replace(/^\s+|\s+$/g,""));if(t.length>=r&&t.substr(0,r)==v){s[t]=decodeURIComponent(u[1].replace(/^\s+|\s+$/g,""))}}}return s};var b=function(q,s,r){var p;p=encodeURIComponent(q)+"="+encodeURIComponent(s);if(r!==undefined){if(r.expire!==undefined){switch(typeof r.expire){case"number":p+=";max-age="+encodeURIComponent(r.expire);break;case"string":p+=";expires="+encodeURIComponent(r.expire);break;default:p+=";expires="+encodeURIComponent(r.expire.toUTCString());break}}if(r.domain!==undefined){p+=";domain="+encodeURIComponent(r.domain)}if(r.path!==undefined){p+=";path="+encodeURIComponent(r.path)}if(r.secure){p+=";secure"}}if(typeof console!="undefined"){if(r!==undefined&&r.expire){console.log("<set:"+q+"> "+s)}else{console.log("<del:"+q+">")}}document.cookie=p};var c=function(q,r,p,t){var s;if(t!==undefined&&t.once){s=function(){d(q,r,s,t);p()}}else{s=p}if(q.addEventListener!==undefined){q.addEventListener(r,s,false)}else{if(q.attachEvent!==undefined){q.attachEvent("on"+r,s)}}};var d=function(q,r,p){if(q.removeEventListener!==undefined){q.removeEventListener(r,p,false)}else{if(q.detachEvent!==undefined){q.detachEvent("on"+r,p)}}};var h=function(s){var q;var r;var u;u="";for(var t in s){r=s[t];q=r.metric;if(q.maxPurgeCount!==undefined&&q.maxPurgeCount<=r.purgeCount){continue}if(u){u+=g.queryBlock}u+=t;for(var p=0;p<r.buckets.length;++p){u+=g.queryField+q.convert(r.buckets[p])}}return u};var i=function(s,p){var q;var r;r=/^[-+.0-9A-Za-z]+:(\/\/.*)$/.exec(g.queryURL);if(r){q=new Image();q.src=document.location.protocol+r[1]+"?n="+encodeURIComponent(s)+"&d="+encodeURIComponent(p);if(typeof console!="undefined"){console.log("<send> "+q.src)}}};var j=function(w,q,r){var p;var t;var u;var v;if(w.sleep&&r!="!wake"){j(w,q,"!wake")}t=w.metric;v=t.collect(q,r,w.custom);if(v!==undefined){for(var s=v.length;s-->0;){u=v[s];for(p=0;p<t.ranges.length&&u[0]>=t.ranges[p];){++p}w.buckets[p]=t.reduce(w.buckets[p],u[1]);w.sleep=false;w.time=new Date().getTime()}}};var k=function(r){var q;var s;q=r.metric.ranges;s=r.metric.value;r.buckets=[];for(var p=0;p<=q.length;++p){r.buckets.push(s)}};var l=function(q,t){var p;var r;var u;var v;var w;if(q){p=Math.round(Math.random()*16777216).toString(16);u=new Date().getTime();w={cookie:"000000".substr(0,6-p.length)+p,element:q,name:t,records:{},state:0,time:u};for(var x in f){v={custom:{},metric:f[x],sleep:false,time:u,purgeCount:0};w.records[x]=v;k(v);r=v.metric.events;for(var s=0;s<r.length;++s){if(r[s]=="!attach"){j(v,w.element,r[s])}}}ckut.tracks.push(w)}};var m=function(t){var p;var q;var r;var s;r=new Date().getTime();if(!t.sleep){for(var u in t.records){s=t.records[u];q=s.metric;if(!s.sleep&&s.time+q.sleep<=r){j(s,t.element,"!sleep");s.sleep=true}}}p=h(t.records);if(p.length<g.trackLength&&t.time+g.trackFlush>r){b(g.cookiePrefix+t.cookie,r+g.queryBlock+t.name+g.queryBlock+p,{expire:g.cookieExpire})}else{b(g.cookiePrefix+t.cookie,"",{expire:0});if(p){i(t.name,p)}for(var u in t.records){s=t.records[u];s.purgeCount++;k(s)}t.time=r}};var n=function(p){p.sleep=true};var o=function(p){p.sleep=false};var e=function(){var p;var q;var r;var s;var t;var u;var w;var y;var z;if(document.readyState!="complete"){return}q=function(C,B){return function(){u(function(D){if(!D.sleep&&D.records[C]!==undefined){j(D.records[C],D.element,B)}})}};u=function(B){for(var C=0;C<ckut.tracks.length;++C){B(ckut.tracks[C])}};r=a(g.cookiePrefix);y=new Date().getTime();for(var x in r){t=r[x].split(g.queryBlock,3);if(t.length==3&&parseInt(t[0])+g.queryExpire<=y){i(t[1],t[2]);b(x,"",{expire:0})}}p={"!sleep":[],"!timer":[],"!wake":[]};z={keydown:document,mousemove:document,resize:window,scroll:window};for(var A in f){w=f[A];for(var v=0;v<w.events.length;++v){s=w.events[v];if(p[s]!==undefined){p[s].push(q(A,s))}else{if(z[s]!==undefined){c(z[s],s,q(A,s))}}}}p["!timer"].push(function(){u(m)});(function(B){c(window,"blur",function(){for(var C=0;C<B.length;++C){B[C]()}u(n)})})(p["!sleep"]);(function(B){setInterval(function(){for(var C=0;C<B.length;++C){B[C]()}},g.trackTimer)})(p["!timer"]);(function(B){c(window,"focus",function(){u(o);for(var C=0;C<B.length;++C){B[C]()}})})(p["!wake"])};if(typeof ckut=="undefined"){ckut={attach:l,tracks:[]};if(document.readyState!="complete"){c(document,"DOMContentLoaded",e,{once:true});c(document,"readystatechange",e,{once:true});c(window,"load",e,{once:true})}else{setTimeout(e,1)}}})();